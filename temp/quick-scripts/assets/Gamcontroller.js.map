{"version":3,"sources":["Gamcontroller.js"],"names":["cc","Class","extends","Component","properties","gamePlay","Node","uiGameplay","uiRetry","pnHome","score","txtLable","Label","isPaulse","txtretryTime","onLoad","window","gamecontroller","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","start","onStart","active","onGameOver","scoresend","livestime","callGameComplete","string","localize","textFormat","OnRetry","director","loadScene","log","OnFinish","onAddScore","event","keyCode","macro","KEY","escape","callGameQuit"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAWL,GAAGM,IADN;AAERC,oBAAaP,GAAGM,IAFR;AAGRE,iBAAUR,GAAGM,IAHL;AAIRG,gBAAST,GAAGM,IAJJ;AAKRI,eAAM,CALE;AAMRC,kBAASX,GAAGY,KANJ;AAORC,kBAAS,KAPD;AAQRC,sBAAad,GAAGY;AARR,KAHP;;AAcLG,UAdK,oBAeL;AACIC,eAAOC,cAAP,GAAsB,IAAtB;AACAjB,WAAGkB,WAAH,CAAeC,EAAf,CAAkBnB,GAAGoB,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKC,SAA1D,EAAqE,IAArE;AACH,KAlBI;AAqBLC,SArBK,mBAqBI,CAER,CAvBI;AAwBLC,WAxBK,qBAyBL;;AAEI,aAAKf,KAAL,GAAW,CAAX;AACA,aAAKL,QAAL,CAAcqB,MAAd,GAAqB,IAArB;AACA,aAAKjB,MAAL,CAAYiB,MAAZ,GAAmB,KAAnB;AACA,aAAKnB,UAAL,CAAgBmB,MAAhB,GAAuB,IAAvB;AAEH,KAhCI;AAkCLC,cAlCK,wBAmCL;AACG,YAAG,KAAKjB,KAAL,IAAYkB,SAAf,EACA;AACKA,wBAAU,KAAKlB,KAAf;AACD,gBAAGkB,aAAW,EAAd,EACA;AACCA,4BAAU,EAAV;AACA;AACJ;AACDC;AACC,YAAGA,aAAW,CAAd,EACA;AACIC,6BAAiBF,YAAU,IAA3B;AACH,SAHD,MAIA;AACI,iBAAKd,YAAL,CAAkBiB,MAAlB,GAA2Bf,OAAOgB,QAAP,CAAgBC,UAAhB,CAA2B,eAA3B,EAA4C,CAACJ,SAAD,CAA5C,CAA3B;AACA,iBAAKrB,OAAL,CAAakB,MAAb,GAAoB,IAApB;AACH;AAEJ,KAtDI;AAwDLQ,WAxDK,qBAyDL;AACI;;AAEAlC,WAAGmC,QAAH,CAAYC,SAAZ,CAAsB,UAAtB,EAAkC,YAAY;AAC1CpC,eAAGqC,GAAH,CAAO,sBAAP;AACH,SAFD;AAGH,KA/DI;AAgELC,YAhEK,sBAiEL;AACIR,yBAAiBF,YAAU,IAA3B;AACH,KAnEI;AAoELW,cApEK,wBAqEL;AACI,aAAK7B,KAAL;AACA,aAAKC,QAAL,CAAcoB,MAAd,GAAsB,KAAKrB,KAA3B;AACH,KAxEI;AA+ENa,aA/EM,qBA+EIiB,KA/EJ,EAgFN;AACI,gBAAOA,MAAMC,OAAb;AACI,iBAAKzC,GAAG0C,KAAH,CAASC,GAAT,CAAaC,MAAlB;AACIC;AACA;;AAHR;AAMH;AAvFK,CAAT","file":"Gamcontroller.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        gamePlay : cc.Node,\r\n        uiGameplay : cc.Node,    \r\n        uiRetry : cc.Node,    \r\n        pnHome : cc.Node,    \r\n        score:0,\r\n        txtLable:cc.Label,\r\n        isPaulse:false,      \r\n        txtretryTime:cc.Label,\r\n    },\r\n\r\n    onLoad()\r\n    {\r\n        window.gamecontroller=this;\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n    },\r\n    \r\n\r\n    start () {\r\n    \r\n    },\r\n    onStart()\r\n    {\r\n    \r\n        this.score=0;\r\n        this.gamePlay.active=true;\r\n        this.pnHome.active=false;\r\n        this.uiGameplay.active=true;\r\n        \r\n    },\r\n    \r\n    onGameOver()\r\n    {      \r\n       if(this.score>=scoresend)\r\n       {\r\n            scoresend=this.score;\r\n           if(scoresend>=10)\r\n           {\r\n            scoresend=10;\r\n           }\r\n       }\r\n       livestime--;       \r\n        if(livestime==0)\r\n        {\r\n            callGameComplete(scoresend*1000);\r\n        }else\r\n        {\r\n            this.txtretryTime.string=  window.localize.textFormat('g_oopscontent', [livestime]);\r\n            this.uiRetry.active=true;\r\n        }\r\n      \r\n    },\r\n\r\n    OnRetry()\r\n    {\r\n        //location.reload();\r\n\r\n        cc.director.loadScene(\"gameplay\", function () {\r\n            cc.log(\"Next scene preloaded\");\r\n        });\r\n    },\r\n    OnFinish()\r\n    {\r\n        callGameComplete(scoresend*1000);\r\n    },\r\n    onAddScore()\r\n    {      \r\n        this.score++;\r\n        this.txtLable.string =this.score;\r\n    },\r\n\r\n\r\n\r\n  \r\n  \r\n \r\n   onKeyDown(event)\r\n   {\r\n       switch(event.keyCode) {\r\n           case cc.macro.KEY.escape:\r\n               callGameQuit();\r\n               break;\r\n         \r\n       }\r\n   }\r\n    \r\n});\r\n"]}